<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>イベントスケジュール</title>

<style>
body {
  font-family: system-ui, sans-serif;
  background:#f2f2f2;
  margin:0;
}

h1 {
  text-align:center;
  padding:12px;
}

#schedule {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap:14px;
  padding:14px;
}

.card {
  background:white;
  border-radius:12px;
  box-shadow:0 4px 10px rgba(0,0,0,.12);
  overflow:hidden;
  transition:.2s;
}

.card:hover {
  transform:scale(1.03);
}

.image-box {
  cursor:pointer;
}

.image-box img {
  width:100%;
  display:block;
}

.time {
  padding:8px;
  font-size:13px;
  text-align:center;
}
</style>
</head>

<body>

<h1>イベントスケジュール</h1>
<div id="schedule"></div>

<script>
fetch("data/schedule202601.json")
  .then(r => r.json())
  .then(events => {

    const list = document.getElementById("schedule");

    events
      .map(e => ({
        ...e,
        start: new Date(e.start),
        end: new Date(e.end),
        directUrl: "mirr://webview/window/open?url=" + encodeURIComponent(e.url)
      }))
      .sort((a,b) => a.start - b.start)
      .forEach(e => {

        const card = document.createElement("div");
        card.className = "card";

        const box = document.createElement("div");
        box.className = "image-box";
        box.onclick = () => location.href = e.directUrl;

        const img = document.createElement("img");
        img.src = e.image;
        box.appendChild(img);

        const time = document.createElement("div");
        time.className = "time";
        time.textContent =
          e.start.toLocaleDateString() + " ～ " +
          e.end.toLocaleDateString();

        card.append(box, time);
        list.appendChild(card);
      });
  });
</script>

</body>
</html>
