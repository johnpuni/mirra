<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mirrativ Player Installer</title>
    <style>
        body { font-family: -apple-system, sans-serif; background: #111; color: #fff; padding: 20px; text-align: center; }
        .card { background: #222; border-radius: 15px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); margin-bottom: 20px; }
        h1 { color: #ff005c; font-size: 1.5rem; }
        .btn { background: #ff005c; color: #fff; border: none; padding: 15px 30px; border-radius: 30px; font-weight: bold; font-size: 1.1rem; width: 100%; cursor: pointer; margin: 10px 0; }
        .step { text-align: left; background: #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; font-size: 0.9rem; }
        .code-box { background: #000; padding: 10px; font-size: 0.7rem; color: #aaa; word-break: break-all; border-radius: 5px; max-height: 100px; overflow-y: auto; }
        .important { color: #ffeb3b; font-weight: bold; }
    </style>
</head>
<body>

    <h1>Mirrativ Lite Player</h1>
    <p>ã‚¹ãƒãƒ›ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ãè»½é‡è¦–è´ãƒ„ãƒ¼ãƒ«</p>

    <div class="card">
        <button class="btn" onclick="copyCode()">1. ãƒ„ãƒ¼ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
        <p id="msg" style="color:#4caf50; font-size:0.8rem; display:none;">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</p>
    </div>

    <div class="step">
        <b style="color:#ff005c;">ä½¿ã„æ–¹ï¼ˆã‚¹ãƒãƒ›ç‰ˆï¼‰</b><br><br>
        1. ä¸Šã®ãƒœã‚¿ãƒ³ã§ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼<br>
        2. ãƒ–ãƒ©ã‚¦ã‚¶ã§<b>é©å½“ãªãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯</b>ã™ã‚‹<br>
        3. ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ç·¨é›†ã‚’é–‹ãã€URLæ¬„ã‚’æ¶ˆã—ã¦<b>ã‚³ãƒ”ãƒ¼ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘</b>ã€ä¿å­˜ã™ã‚‹<br>
        4. <a href="https://www.mirrativ.com/" style="color:#03a9f4;">ãƒŸãƒ©ãƒ†ã‚£ãƒ–å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’é–‹ã<br>
        5. ä¿å­˜ã—ãŸãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚’<b>ã‚¢ãƒ‰ãƒ¬ã‚¹æ¬„ã‹ã‚‰æ¤œç´¢ã—ã¦å®Ÿè¡Œ</b>ï¼
    </div>

    <div class="step">
        <span class="important">æ³¨æ„:</span> ãƒŸãƒ©ãƒ†ã‚£ãƒ–ã®ãƒšãƒ¼ã‚¸ã‚’ç›´æ¥é–‹ã„ãŸçŠ¶æ…‹ã§ãªã„ã¨ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã§å‹•ãã¾ã›ã‚“ã€‚
    </div>

    <div style="display:none;">
        <textarea id="targetCode">javascript:(function(){const uid=prompt("é…ä¿¡è€…IDã‚’å…¥åŠ›","110544066");if(!uid)return;fetch(`https://www.mirrativ.com/api/live/live_history?user_id=${uid}`).then(r=>r.json()).then(h=>{if(!h.lives||!h.lives.length)throw "é…ä¿¡å¤–";const lId=h.lives[0].live_id;return fetch(`https://www.mirrativ.com/api/live/get_streaming_url?live_id=${lId}`).then(r=>r.json()).then(s=>{return {m:s.streaming_url_hls, lId:lId}})}).then(data=>{const m=data.m; const lId=data.lId; if(!m)throw "URLãªã—";const base=document.createElement('div');base.style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:999999;background:#000;display:flex;flex-direction:column;";const col=document.createElement('div');col.id="m-log";col.style="height:30%;overflow-y:auto;background:#222;color:#fff;font-size:12px;padding:5px;border-bottom:1px solid #444;";const v=document.createElement('video');v.src=m;v.controls=true;v.style="flex:1;width:100%;background:#000;";const close=document.createElement('button');close.innerText="âœ• é–‰ã˜ã‚‹";close.style="position:fixed;top:10px;right:10px;z-index:1000000;padding:5px 10px;background:rgba(0,0,0,0.5);color:#fff;border:none;border-radius:5px;";close.onclick=()=>base.remove();base.appendChild(col);base.appendChild(v);base.appendChild(close);document.body.appendChild(base);v.play();const ws=new WebSocket(`wss://www.mirrativ.com/api/live/live_comments?live_id=${lId}`);ws.onmessage=(e)=>{const d=JSON.parse(e.data);const line=document.createElement('div');if(d.type===1)line.innerText=`${d.handle}: ${d.comment}`;if(d.type===2){line.innerText=`ğŸ ${d.handle}: ${d.gift_item_name}`;line.style.color="#ff005c";}col.appendChild(line);col.scrollTop=col.scrollHeight;};}).catch(e=>alert("ã‚¨ãƒ©ãƒ¼: "+e))})();</textarea>
    </div>

    <script>
        function copyCode() {
            const copyTarget = document.getElementById("targetCode");
            copyTarget.select();
            document.execCommand("Copy");
            const msg = document.getElementById("msg");
            msg.style.display = "block";
            setTimeout(() => { msg.style.display = "none"; }, 2000);
        }
    </script>
</body>
</html>
